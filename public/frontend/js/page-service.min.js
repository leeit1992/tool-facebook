!function(e){"use strict";new(Backbone.View.extend({el:"#avt-page-handle-service",formClassError:"md-input-danger",events:{"submit #avt-form-service":"handleForm"},errorFormTpl:_.template('<div class="uk-notify-message <%= classes %>">                                        <a class="uk-close"></a>                                        <div>                                           <%= message %>                                        </div>                                    </div>'),initialize:function(){var a=this;e(window).load(function(){var s=e(".atl-notify-js",a.el).attr("data-notify");if(s){var t=a.errorFormTpl({message:s,classes:"uk-notify-message-success"});e(".atl-notify-js",a.el).html(t).show(),setTimeout(function(){e(".atl-notify-js",a.el).fadeOut()},3e3)}})},handleForm:function(a){var s=this,t=e(".avt-required-js",this.el),r=new Array;return e.each(t,function(a,t){0===e(t).val().length?(e(t).addClass(s.formClassError),r.push(a)):(e(t).removeClass(s.formClassError),r.splice(a,1))}),0===r.length&&(this.handlePacketService(a),!1)},handlePacketService:function(a){var s={formData:e("#avt-form-service",this.el).serialize()},t=this;altair_helpers.content_preloader_show(),e.ajax({url:AVTDATA.SITE_URL+"/validate-packet-service",type:"POST",data:s,success:function(a){altair_helpers.content_preloader_hide();var s=JSON.parse(a);if(!1===s.status){var r="";e.each(s.message,function(e,a){r+=t.errorFormTpl({message:a,classes:"uk-notify-message-danger"})}),e(".atl-notify-js",t.el).html(r).show(),setTimeout(function(){e(".atl-notify-js",t.el).fadeOut()},3e3)}else window.location=location.href=AVTDATA.SITE_URL+"/add-packet-service"}})}}))}(jQuery);